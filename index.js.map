{"version":3,"file":"index.js","sources":["../src/js/book-modal.js","../src/js/books-api.js","../src/js/feedbacks.js","../src/js/hero.js","../src/js/events.js","../src/js/header.js","../src/js/footer.js","../src/js/modal.js","../src/js/scroll-up.js"],"sourcesContent":["// book-modal.js\n\nimport axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\nconst iconPath = new URL('/img/icons.svg', import.meta.url).href;\n\nconst BASE_URL = 'https://books-backend.p.goit.global';\nconst BOOK_DETAILS_ENDPOINT = '/books/';\n\n// --- Референси на DOM-елементи модального вікна ---\n// Важливо: Ці селектори мають відповідати тим, що в book-modal.html\nconst refs = {\n  backdrop: document.querySelector('.js-book-modal-backdrop'),\n  modal: document.querySelector('.js-book-modal'),\n  closeBtn: document.querySelector('.js-book-modal-close-btn'),\n  modalContent: document.querySelector('.js-book-modal-content'),\n};\n\nlet currentBookData = null; // Зберігатиме дані поточної книги\n\n// --- Функції для відкриття/закриття модального вікна ---\nexport async function openBookModal(bookId) {\n  // Перевірка, чи знайдені елементи модального вікна\n  if (!refs.backdrop || !refs.modal || !refs.closeBtn || !refs.modalContent) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Error loading modal window.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return;\n  }\n\n  try {\n    const bookDetails = await serviceBookDetails(bookId);\n    currentBookData = bookDetails;\n    renderBookDetails(bookDetails);\n\n    // Ініціалізуємо Accordion після рендерингу контенту\n    // Це має бути після того, як markup додано до DOM\n    const accordionContainer = refs.modalContent.querySelector(\n      '.book-details-accordion-container'\n    );\n    if (accordionContainer) {\n      new Accordion(accordionContainer, {\n        showMultiple: true,\n      });\n    }\n\n    refs.backdrop.classList.add('is-open');\n    refs.modal.classList.add('is-open');\n    document.body.classList.add('no-scroll');\n\n    // Додаємо слухачів подій для закриття\n    refs.closeBtn.addEventListener('click', closeBookModal);\n    refs.backdrop.addEventListener('click', onBackdropClick);\n    document.addEventListener('keydown', onEscapeKeyPress);\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Could not load book details. Please try again later.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n  }\n}\n\nfunction closeBookModal() {\n  if (!refs.backdrop || !refs.modal || !refs.closeBtn || !refs.modalContent) {\n    return;\n  }\n\n  refs.backdrop.classList.remove('is-open');\n  refs.modal.classList.remove('is-open');\n  document.body.classList.remove('no-scroll');\n\n  // Видаляємо слухачів подій\n  refs.closeBtn.removeEventListener('click', closeBookModal);\n  refs.backdrop.removeEventListener('click', onBackdropClick);\n  document.removeEventListener('keydown', onEscapeKeyPress);\n\n  // Очищаємо вміст модалки\n  refs.modalContent.innerHTML = '';\n  currentBookData = null;\n}\n\nfunction onBackdropClick(event) {\n  if (event.target === refs.backdrop) {\n    closeBookModal();\n  }\n}\n\nfunction onEscapeKeyPress(event) {\n  if (event.key === 'Escape') {\n    closeBookModal();\n  }\n}\n\n// --- API Service для отримання деталей книги ---\nasync function fetchData(url, options = {}) {\n  try {\n    const { data } = await axios(url, options);\n    return data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      titleColor: '#ffffff',\n      message: `The request failed: <u>${error.message}</u>`,\n      messageColor: '#ffffff',\n      backgroundColor: '#ef4040',\n      position: 'topRight',\n      timeout: 4000,\n      animateInside: true,\n      progressBar: false,\n      close: false,\n      closeOnClick: true,\n    });\n    throw error;\n  }\n}\n\nasync function serviceBookDetails(bookId) {\n  return await fetchData(`${BASE_URL}${BOOK_DETAILS_ENDPOINT}${bookId}`);\n}\n\nfunction renderBookDetails(book) {\n  const markup = `\n    <div class=\"book-modal-details-wrapper\">\n      <img class=\"book-modal-img\" src=\"${book.book_image}\" alt=\"${\n    book.title\n  }\" loading=\"lazy\"/>\n      <div class=\"book-modal-info\">\n        <h2 class=\"book-modal-title\">${book.title}</h2>\n        <p class=\"book-modal-author\">${book.author}</p>\n       <p class=\"book-modal-price\">$${\n         book.price !== undefined && book.price !== null\n           ? Number(book.price).toFixed(2)\n           : 'The price is not specified.'\n       }</p>\n\n        <form class=\"book-modal-order-form\">\n          <div class=\"quantity-selector\">\n            <button type=\"button\" class=\"quantity-btn\" data-action=\"decrement\">-</button>\n            <input type=\"number\" class=\"quantity-input\" value=\"1\" min=\"1\" max=\"99\" aria-label=\"Number of books\" disabled>\n            <button type=\"button\" class=\"quantity-btn\" data-action=\"increment\">+</button>\n          </div>\n          <div class=\"book-modal-buttons\">\n            <button type=\"button\" class=\"add-to-cart-btn\" data-book-id=\"${\n              book._id\n            }\">Add To Cart</button>\n            <button type=\"submit\" class=\"buy-now-btn\" data-book-id=\"${\n              book._id\n            }\">Buy Now</button>\n          </div>\n        </form>\n        <div class=\"book-details-accordion-container\">\n      <div class=\"ac\">\n        <h3 class=\"ac-header\">\n          <button type=\"button\" class=\"ac-trigger\">Details\n             <svg class=\"books-arrow-icon\" width=\"24\" height=\"24\">\n               <use href=\"${iconPath}#icon-arrow-dwn\"></use>\n             </svg>\n          </button>\n        </h3>\n        <div class=\"ac-panel\">\n          <p class=\"ac-text\">${\n            book.description || 'No additional information available..'\n          }</p>\n        </div>\n      </div>\n\n      <div class=\"ac\">\n        <h3 class=\"ac-header\">\n          <button type=\"button\" class=\"ac-trigger\">Shipping\n            <svg class=\"books-arrow-icon\" width=\"24\" height=\"24\">\n               <use href=\"${iconPath}#icon-arrow-dwn\"></use>\n             </svg>\n          </button>\n        </h3>\n        <div class=\"ac-panel\">\n          <p class=\"ac-text\">We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.</p>\n        </div>\n      </div>\n\n      <div class=\"ac\">\n        <h3 class=\"ac-header\">\n          <button type=\"button\" class=\"ac-trigger\">Returns\n            <svg class=\"books-arrow-icon\" width=\"24\" height=\"24\">\n               <use href=\"${iconPath}#icon-arrow-dwn\"></use>\n             </svg>\n          </button>\n        </h3>\n        <div class=\"ac-panel\">\n          <p class=\"ac-text\">You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.</p>\n        </div>\n      </div>\n    </div>\n\n      </div>\n       \n   \n    </div>\n  `;\n\n  refs.modalContent.innerHTML = markup;\n\n  const orderForm = refs.modalContent.querySelector('.book-modal-order-form');\n  if (orderForm) {\n    orderForm.addEventListener('click', handleOrderFormClick);\n    orderForm.addEventListener('submit', handleBuyNowSubmit);\n  }\n}\n\nfunction handleOrderFormClick(event) {\n  const target = event.target;\n  const quantityInput = refs.modalContent.querySelector('.quantity-input');\n\n  if (!quantityInput) return;\n\n  let quantity = parseInt(quantityInput.value);\n\n  if (target.dataset.action === 'decrement') {\n    quantity = Math.max(1, quantity - 1);\n  } else if (target.dataset.action === 'increment') {\n    quantity = Math.min(99, quantity + 1);\n  }\n  quantityInput.value = quantity;\n\n  if (target.classList.contains('add-to-cart-btn')) {\n    target.disabled = true;\n\n    (async () => {\n      try {\n        await new Promise(resolve => setTimeout(resolve, 4000));\n\n        iziToast.success({\n          title: 'Success!',\n          message: `\"${currentBookData.title}\" (${quantity} pcs.) added to cart!`,\n          position: 'topRight',\n          timeout: 4000,\n        });\n      } catch (error) {\n        iziToast.error({\n          title: 'Error',\n          message: 'Could not add to cart.',\n          position: 'topRight',\n        });\n      } finally {\n        target.disabled = false;\n      }\n    })();\n  }\n}\n\nfunction handleBuyNowSubmit(event) {\n  event.preventDefault();\n\n  iziToast.success({\n    message: 'Thank you for your purchase!',\n    position: 'topRight',\n    timeout: 4000,\n  });\n\n  closeBookModal();\n}\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { openBookModal } from './book-modal.js';\n\nconst BASE_URL = 'https://books-backend.p.goit.global';\nconst CATEGORY_LIST = '/books/category-list';\nconst TOP_BOOKS = '/books/top-books';\nconst BOOKS_BY_CATEGORY = '/books/category';\nconst BOOK_DETAILS = '/books/';\nconst ITEMS_PER_PAGE_MOBILE = 10;\nconst ITEMS_PER_PAGE_TABLET_DESKTOP = 24;\n\nconst refs = {\n  categoryToggleBtn: document.querySelector('[data-category-list-toggle]'),\n  categoryMenuContainer: document.querySelector('[data-category-list]'),\n  categoryListElement: document.querySelector('.books-categories-list'),\n  booksContainer: document.querySelector('.js-books-list'),\n  showMoreBtn: document.querySelector('.books-show-more-btn'),\n  booksShowingCount: document.querySelector('.books-showing-count'),\n};\n\nlet categories = [];\nlet activeCategory = 'All categories';\nlet currentTotalBooks = [];\nlet currentPage = 0;\nlet currentBooksDisplayed = 0;\n\nfunction getBooksLimit() {\n  if (window.innerWidth < 768) {\n    return ITEMS_PER_PAGE_MOBILE;\n  } else {\n    return ITEMS_PER_PAGE_TABLET_DESKTOP;\n  }\n}\n\nasync function fetchData(url, options = {}) {\n  try {\n    const { data } = await axios(url, options);\n    return data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      titleColor: '#ffffff',\n      message: `Request failed: <u>${error.message}</u>`,\n      messageColor: '#ffffff',\n      backgroundColor: '#ef4040',\n      position: 'topRight',\n      timeout: 4000,\n      animateInside: true,\n      progressBar: false,\n      close: false,\n      closeOnClick: true,\n    });\n    throw error;\n  }\n}\n\n// ---  API Services ---\nasync function serviceCategoryList() {\n  const data = await fetchData(`${BASE_URL}${CATEGORY_LIST}`);\n  return data.map(category => category.list_name);\n}\n\nasync function serviceTopBooks() {\n  const data = await fetchData(`${BASE_URL}${TOP_BOOKS}`);\n  return data.flatMap(item => item.books);\n}\n\nasync function serviceBooksByCategory(categoryName) {\n  const params = { category: categoryName };\n  return await fetchData(`${BASE_URL}${BOOKS_BY_CATEGORY}`, {\n    params,\n  });\n}\n\nasync function serviceBookDetails(bookId) {\n  const data = await fetchData(`${BASE_URL}${BOOK_DETAILS}${bookId}`);\n  console.log(`Book details for ID ${bookId}:`, data);\n  return data;\n}\n\n// --- Markup Functions ---\nfunction createMarkupCategoryList(arr) {\n  const allCategoriesLink = `\n    <li class=\"books-categories-item\">\n      <a href=\"#\" class=\"books-categories-list-link ${\n        activeCategory === 'All categories' ? 'active' : ''\n      }\">All categories</a>\n    </li>\n  `;\n\n  const categoryItems = arr\n    .filter(name => name !== 'All categories' && name && name.trim() !== '')\n    .map(\n      name => `\n        <li class=\"books-categories-item\">\n          <a href=\"#\" class=\"books-categories-list-link ${\n            name === activeCategory ? 'active' : ''\n          }\">${name}</a>\n        </li>\n      `\n    )\n    .join('');\n\n  return allCategoriesLink + categoryItems;\n}\n\nfunction createMarkupBooks(arr) {\n  if (arr.length === 0) {\n    return '<li class=\"no-books-message\">No books found for this category.</li>';\n  }\n  return arr\n    .map(\n      ({ book_image, title, author, price, _id }) => `\n        <li class=\"books-card\" data-book-id=\"${_id}\">\n            <img class=\"books-card-img\" src=\"${book_image}\" alt=\"${title}\"/>\n            <div class=\"books-info\">\n                <div class=\"books-info-left\">\n                   <h4 class=\"books-h section-subtitle\">${title}</h4>\n                   <p class=\"books-text\">${author}</p>\n                   \n                </div>\n                <p class=\"books-price-text\">$${price}</p>\n            </div>\n            <button class=\"learn-more-btn\" type=\"button\" data-book-modal-open data-book-id=\"${_id}\">Learn more</button>\n        </li>\n    `\n    )\n    .join('');\n}\n\n// --- Render Functions ---\nfunction renderCategories() {\n  refs.categoryListElement.innerHTML = createMarkupCategoryList(categories);\n\n  refs.categoryListElement\n    .querySelectorAll('.books-categories-list-link')\n    .forEach(link => {\n      link.addEventListener('click', handleCategoryClick);\n    });\n}\n\nasync function renderBooks() {\n  refs.booksContainer.innerHTML = '';\n  refs.showMoreBtn.classList.add('show-more-hidden');\n\n  if (activeCategory === 'All categories') {\n    currentTotalBooks = await serviceTopBooks();\n  } else {\n    currentTotalBooks = await serviceBooksByCategory(activeCategory);\n  }\n\n  currentPage = 0;\n  currentBooksDisplayed = 0;\n  displayBooksPortion();\n}\n\nfunction displayBooksPortion(limit = getBooksLimit()) {\n  const startIndex = currentBooksDisplayed;\n  const endIndex = Math.min(startIndex + limit, currentTotalBooks.length);\n  const booksToDisplay = currentTotalBooks.slice(startIndex, endIndex);\n\n  refs.booksContainer.insertAdjacentHTML(\n    'beforeend',\n    createMarkupBooks(booksToDisplay)\n  );\n\n  currentBooksDisplayed = endIndex;\n  refs.booksShowingCount.textContent = `Showing ${currentBooksDisplayed} of ${currentTotalBooks.length}`;\n\n  if (currentBooksDisplayed < currentTotalBooks.length) {\n    refs.showMoreBtn.classList.remove('show-more-hidden');\n  } else {\n    refs.showMoreBtn.classList.add('show-more-hidden');\n  }\n}\n\n// --- Event Handlers ---\nfunction toggleCategory() {\n  const isOpen = refs.categoryMenuContainer.classList.toggle('is-open');\n  refs.categoryToggleBtn.classList.toggle('is-open');\n\n  if (isOpen) {\n    updateCategoryThumb();\n  }\n}\n\nasync function handleCategoryClick(event) {\n  event.preventDefault();\n\n  const newActiveCategory = event.target.textContent;\n\n  if (activeCategory === newActiveCategory) {\n    refs.categoryMenuContainer.classList.remove('is-open');\n    refs.categoryToggleBtn.classList.remove('is-open');\n    return;\n  }\n\n  activeCategory = newActiveCategory;\n  renderCategories();\n  await renderBooks();\n\n  refs.categoryToggleBtn.querySelector(\n    '.books-categories-btn-text'\n  ).textContent = activeCategory;\n\n  refs.categoryMenuContainer.classList.remove('is-open');\n  refs.categoryToggleBtn.classList.remove('is-open');\n}\n\nasync function handleLearnMoreClick(event) {\n  const learnMoreBtn = event.target.closest('.learn-more-btn');\n  if (!learnMoreBtn) return;\n\n  const bookId = learnMoreBtn.dataset.bookId;\n\n  if (bookId) {\n    try {\n      await openBookModal(bookId);\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Failed to load book details. Please try again later.',\n        position: 'topRight',\n        timeout: 2500,\n      });\n      console.error('Failed to open book modal:', error);\n    } finally {\n      learnMoreBtn.disabled = false;\n    }\n  }\n}\n\nasync function onShowMore() {\n  refs.showMoreBtn.disabled = true;\n\n  try {\n    displayBooksPortion(4);\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: `Failed to load books: ${error.message}`,\n      backgroundColor: '#ef4040',\n      titleColor: '#fff',\n      messageColor: '#fff',\n      position: 'topRight',\n    });\n  } finally {\n    refs.showMoreBtn.disabled = false;\n  }\n}\n\n// --- Initialization ---\nasync function initializeApp() {\n  categories = await serviceCategoryList();\n\n  if (!categories.includes('All categories')) {\n    categories = ['All categories', ...categories];\n  }\n\n  renderCategories();\n\n  await renderBooks();\n\n  let prevBooksLimit = getBooksLimit();\n\n  window.addEventListener('resize', () => {\n    const newLimit = getBooksLimit();\n    if (newLimit !== prevBooksLimit) {\n      prevBooksLimit = newLimit;\n\n      refs.booksContainer.innerHTML = '';\n      currentPage = 0;\n      currentBooksDisplayed = 0;\n      displayBooksPortion(newLimit);\n    }\n  });\n}\n\n// --- Scrollbar ---\n\nconst categoryList = refs.categoryListElement;\nconst categoryThumb = document.querySelector(\n  '.books-categories-scrollbar-thumb'\n);\n\nfunction updateCategoryThumb() {\n  const { scrollTop, scrollHeight, clientHeight } = categoryList;\n\n  const ratio = clientHeight / scrollHeight;\n  const thumbHeight = Math.max(ratio * clientHeight, 24);\n  const maxTop = clientHeight - thumbHeight;\n  const top = (scrollTop / (scrollHeight - clientHeight)) * maxTop || 0;\n\n  categoryThumb.style.height = thumbHeight + 'px';\n  categoryThumb.style.top = top + 'px';\n}\n\ncategoryList.addEventListener('scroll', updateCategoryThumb);\nwindow.addEventListener('resize', updateCategoryThumb);\nupdateCategoryThumb();\n\nlet isDragging = false;\nlet startY = 0;\nlet startScrollTop = 0;\n\ncategoryThumb.addEventListener('mousedown', e => {\n  isDragging = true;\n  startY = e.clientY;\n  startScrollTop = categoryList.scrollTop;\n  document.body.style.userSelect = 'none';\n});\n\ndocument.addEventListener('mousemove', e => {\n  if (!isDragging) return;\n\n  const { scrollHeight, clientHeight } = categoryList;\n  const maxScroll = scrollHeight - clientHeight;\n  const thumbHeight = categoryThumb.offsetHeight;\n  const maxThumbTop = clientHeight - thumbHeight;\n\n  const deltaY = e.clientY - startY;\n  const scrollDelta = (deltaY / maxThumbTop) * maxScroll;\n\n  categoryList.scrollTop = startScrollTop + scrollDelta;\n  updateCategoryThumb();\n});\n\ndocument.addEventListener('mouseup', () => {\n  isDragging = false;\n  document.body.style.userSelect = '';\n});\n\n// --- Event Listeners ---\nrefs.categoryToggleBtn.addEventListener('click', toggleCategory);\nrefs.booksContainer.addEventListener('click', event => {\n  const learnMoreBtn = event.target.closest('.learn-more-btn');\n  if (!learnMoreBtn) return;\n\n  learnMoreBtn.blur();\n\n  handleLearnMoreClick(event);\n});\nrefs.showMoreBtn.addEventListener('click', onShowMore);\n\nwindow.addEventListener('click', function (event) {\n  if (\n    !refs.categoryToggleBtn.contains(event.target) &&\n    !refs.categoryMenuContainer.contains(event.target)\n  ) {\n    refs.categoryMenuContainer.classList.remove('is-open');\n    refs.categoryToggleBtn.classList.remove('is-open');\n  }\n});\n\ndocument.addEventListener('DOMContentLoaded', initializeApp);\n","document.addEventListener('DOMContentLoaded', () => {\n  const swiper = new Swiper('#feedbacks-slider', {\n    // мобільна база\n    slidesPerView: 1,\n    spaceBetween: 24,\n    grabCursor: true,\n    keyboard: { enabled: true, onlyInViewport: true },\n    a11y: { enabled: true },\n    watchOverflow: true,\n\n    // кастомні кнопки\n    navigation: {\n      nextEl: '.btn-next',\n      prevEl: '.btn-prev',\n      disabledClass: 'is-disabled',\n      lockClass: 'is-locked',\n    },\n\n    // булети пагінації у твоєму контейнері\n    pagination: {\n      el: '.slider-dots',\n      clickable: true,\n      bulletClass: 'dot',\n      bulletActiveClass: 'dot--active',\n    },\n\n    // респонсів: планшет = 2, ПК = 3\n    breakpoints: {\n      768: { slidesPerView: 2 },\n      1440: { slidesPerView: 3 },\n    },\n  });\n\n  // Синхронізуємо aria/disabled з класом is-disabled, який ставить Swiper\n  const prev = document.querySelector('.btn-prev');\n  const next = document.querySelector('.btn-next');\n\n  function syncNavAria() {\n    if (prev) {\n      const disabled = prev.classList.contains('is-disabled');\n      prev.toggleAttribute('disabled', disabled);\n      prev.setAttribute('aria-disabled', String(disabled));\n    }\n    if (next) {\n      const disabled = next.classList.contains('is-disabled');\n      next.toggleAttribute('disabled', disabled);\n      next.setAttribute('aria-disabled', String(disabled));\n    }\n  }\n\n  // Події Swiper\n  swiper.on('init', syncNavAria);\n  swiper.on('slideChange', syncNavAria);\n  swiper.on('reachBeginning', syncNavAria);\n  swiper.on('reachEnd', syncNavAria);\n  swiper.on('fromEdge', syncNavAria);\n\n  // первинний виклик (init стріляє автоматично, але дублювання не завадить)\n  syncNavAria();\n\n  // Додаткові стрілки з клавіатури, коли фокус на кнопці\n  function onKeyNav(e) {\n    if (e.key === 'ArrowLeft') {\n      e.preventDefault();\n      prev?.click();\n    }\n    if (e.key === 'ArrowRight') {\n      e.preventDefault();\n      next?.click();\n    }\n  }\n  prev?.addEventListener('keydown', onKeyNav);\n  next?.addEventListener('keydown', onKeyNav);\n});\n\n// import Swiper from 'swiper';\n// import { Navigation, Pagination, Keyboard } from 'swiper/modules';\n// import 'swiper/css';\n// import 'swiper/css/navigation';\n// import 'swiper/css/pagination';\n\n// // Ініціалізація слайдера\n// const swiperFeedbacks = new Swiper('.feedbacks-swiper', {\n//   modules: [Navigation, Pagination, Keyboard],\n//   slidesPerView: 1,       // один слайд на екрані\n//   spaceBetween: 24,       // відстань між слайдами\n//   loop: false,\n\n//   pagination: {\n//     el: '.swiper-pagination',\n//     clickable: true\n//   },\n//   navigation: {\n//     nextEl: '.swiper-button-next',\n//     prevEl: '.swiper-button-prev'\n//   },\n//   keyboard: {\n//     enabled: true,\n//     onlyInViewport: true\n//   }\n// });\n\n// const userFeedbacks = [\n//   {\n//     avatar:\n//       './img/feedbacks-images/profile.pic.jpg',\n//     username:\n//       'Jane Doe',\n//     userInfo: 'Book Lover, Reader',\n//     message: 'Great selection, fast delivery, and beautifully packaged books. My go-to store for weekend reads!'\n//   },\n// ];\n","const swiper = new Swiper('.hero-swiper', {\n  loop: true,\n  autoplay: {\n    delay: 8000,\n  },\n  speed: 400,\n  slidesPerView: 1,\n  keyboard: {\n    enabled: true,   \n  },\n  wrapperClass: 'hero-swiper-wrapper',\n  slideClass: 'hero-slide',\n  navigation: {\n    nextEl: '.hero-right-btn',\n    prevEl: '.hero-left-btn',\n  }\n});\n","import Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard} from 'swiper/modules';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const swiperEl = document.querySelector('.events-swiper');\n  if (!swiperEl) return;\n\n  new Swiper(swiperEl, {\n    modules: [Navigation, Pagination, Keyboard],\n    slidesPerView: 1,\n    spaceBetween: 24,\n\n    breakpoints: {\n      768: { slidesPerView: 2 },\n      1440: { slidesPerView: 3 },\n    },\n\n    pagination: {\n      el: '.ev-pagination',\n      clickable: true,\n      renderBullet: (index, className) =>\n        `<li class=\"${className}\" aria-label=\"Go to slide ${index + 1}\"></li>`,\n      bulletClass: 'ev-dot',\n      bulletActiveClass: 'ev-dot--active',\n    },\n\n    navigation: {\n      nextEl: '.events-swiper-btn-next',\n      prevEl: '.events-swiper-btn-prev',\n    },\n\n    keyboard: {\n    enabled: true,   \n    },\n\n    watchOverflow: true,\n  });\n});\n\n// =================== modal open ===================\n\n\nconst backdrop = document.getElementById('modal-backdrop');\n\n\nfunction openModal(eventTitle) {\n\n  let modal = document.querySelector('.modal');\n  if (!modal) {\n    modal = document.createElement('div');\n    modal.classList.add('modal');\n\n  \n    modal.innerHTML = `\n            <button class=\"modal-close\" aria-label=\"Close modal\">&times;</button>\n            <h2 class=\"modal-title\">Register for Event</h2>\n            <p class=\"event-title\">${eventTitle}</p>\n            <form class=\"modal-form\">\n                <label>\n                    Name\n                    <input type=\"text\" placeholder=\"Your name\" required>\n                </label>\n                <label>\n                    Email\n                    <input type=\"email\" placeholder=\"Your email\" required>\n                </label>\n                <button type=\"submit\">Submit</button>\n            </form>\n        `;\n    backdrop.appendChild(modal);\n\n    // Закриття по кнопці\n    modal.querySelector('.modal-close').addEventListener('click', closeModal);\n  } else {\n    \n    modal.querySelector('.event-title').textContent = eventTitle;\n  }\n\n  \n  backdrop.classList.add('is-open');\n  document.body.classList.add('no-scroll');\n\n  // Закриття по кліку на бекдроп поза модалкою\n  backdrop.addEventListener('click', function handler(e) {\n    if (e.target === backdrop) closeModal();\n    backdrop.removeEventListener('click', handler);\n  });\n}\n\n// Функція закриття\nfunction closeModal() {\n  backdrop.classList.remove('is-open');\n  document.body.classList.remove('no-scroll');\n}\n\n// Прив'язуємо кнопки\nconst registerButtons = document.querySelectorAll('.event-register-btn');\nregisterButtons.forEach(btn => {\n  btn.addEventListener('click', () => {\n    const eventTitle = btn.dataset.event;\n    openModal(eventTitle);\n  });\n});\n","(() => {\n  const refs = {\n    menu: document.querySelector('[data-menu]'),\n    openBtn: document.querySelector('[data-menu-open]'),\n    closeBtn: document.querySelector('[data-menu-close]'),\n  };\n\n  const toggleMenu = () => {\n    const isOpen = refs.menu.classList.toggle('is-open');\n    document.body.style.overflow = isOpen ? 'hidden' : '';\n  };\n\n  if (refs.openBtn) refs.openBtn.addEventListener('click', toggleMenu);\n  if (refs.closeBtn) refs.closeBtn.addEventListener('click', toggleMenu);\n\n  refs.menu.addEventListener('click', event => {\n    const link = event.target.closest('a');\n    if (!link) return;\n\n    refs.menu.classList.remove('is-open');\n    document.body.style.overflow = '';\n  });\n})();\n","import iziToast from \"izitoast\";\n\n(function () {\n  const container = document.querySelector('.form');\n  if (!container) return;\n\n  const input = container.querySelector('.join-input');\n  const btn = container.querySelector('.join-btn');\n\n  if (!input || !btn) return;\n\n  let wrap = input.closest('.input-wrap');\n  if (!wrap) {\n    wrap = document.createElement('div');\n    wrap.className = 'input-wrap';\n    input.parentNode.insertBefore(wrap, input);\n    wrap.appendChild(input);\n  }\n\n  let err = wrap.querySelector('.join-error');\n  if (!err) {\n    err = document.createElement('p');\n    err.className = 'join-error';\n    err.textContent = 'Error text';\n    wrap.appendChild(err);\n  }\n\n  btn.addEventListener('click', e => {\n    e.preventDefault();\n    wrap.classList.add('validated');\n\n    if (!input.checkValidity()) {\n      input.setAttribute('aria-invalid', 'true');\n      input.reportValidity && input.reportValidity();\n      input.focus();\n    } else {\n      input.setAttribute('aria-invalid', 'false');\n      wrap.classList.remove('validated');\n      input.value = '';\n      input.blur();\n      btn.blur();\n      console.log('Форма успішно відправлена!');\n      iziToast.success({\n        message: 'Registration success'\n      });\n    }\n  });\n\n  input.addEventListener('input', () => {\n    const val = input.value.trim();\n    if (val === '' || input.checkValidity()) {\n      input.setAttribute('aria-invalid', 'false');\n      wrap.classList.remove('validated');\n    }\n  });\n})();\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst iconPath = new URL('/img/icons.svg', import.meta.url).href;\n\nconst eventButtons = document.querySelectorAll('.event-btn');\nconst backdrop = document.querySelector('#modal-backdrop');\nconst body = document.body;\n\neventButtons.forEach(btn => {\n  btn.addEventListener('click', () => openModal(btn.dataset.event));\n});\n\nfunction openModal(eventName) {\n  const modalMarkup = `\n    <div class=\"modal\">\n      <button type=\"button\" class=\"modal-close\" aria-label=\"Close modal\">\n        <svg width=\"32\" height=\"32\">\n         <use href=\"${iconPath}#icon-x\"></use>\n        </svg>\n      </button>\n      <h2 class=\"modal-title\">Register</h2>\n      <h3 class=\"event-title\">${eventName}</h3>\n      <form class=\"modal-form\" id=\"register-form\" novalidate>\n        <label>\n          Name*\n          <input type=\"text\" name=\"name\" placeholder=\"Eva\" required />\n        </label>\n        <label>\n          Email*\n          <input type=\"email\" name=\"email\" placeholder=\"hello@booksy.com\" required />\n        </label>\n        <label>\n          Message\n          <textarea name=\"message\" rows=\"4\" placeholder=\"Type your message...\"></textarea>\n        </label>\n        <button type=\"submit\">Register</button>\n      </form>\n    </div>\n  `;\n\n  backdrop.innerHTML = modalMarkup;\n  backdrop.classList.add('is-open');\n  body.classList.add('no-scroll');\n\n  const closeBtn = backdrop.querySelector('.modal-close');\n  const form = backdrop.querySelector('#register-form');\n\n  closeBtn.addEventListener('click', closeModal);\n  backdrop.addEventListener('click', onBackdropClick);\n  window.addEventListener('keydown', onEscKey);\n  form.addEventListener('submit', onFormSubmit);\n}\n\nfunction closeModal() {\n  backdrop.classList.remove('is-open');\n  body.classList.remove('no-scroll');\n  backdrop.innerHTML = '';\n\n  window.removeEventListener('keydown', onEscKey);\n  backdrop.removeEventListener('click', onBackdropClick);\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === backdrop) closeModal();\n}\n\nfunction onEscKey(e) {\n  if (e.key === 'Escape') closeModal();\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const form = e.target;\n  const nameInput = form.elements.name;\n  const emailInput = form.elements.email;\n  const name = nameInput.value.trim();\n  const email = emailInput.value.trim();\n\n  form.querySelectorAll('input, textarea').forEach(input => resetInput(input));\n  form.querySelectorAll('.error-text').forEach(el => el.remove());\n\n  let hasError = false;\n\n  if (!name) {\n    showError(nameInput, 'Name is required');\n    hasError = true;\n  }\n\n  if (!email) {\n    showError(emailInput, 'Email is required');\n    hasError = true;\n  } else if (!isValidEmail(email)) {\n    showError(emailInput, 'Please enter a valid email');\n    hasError = true;\n  }\n\n  if (hasError) return;\n\n  iziToast.success({\n    message: 'Registration successful!',\n    position: 'topRight',\n    timeout: 2500,\n  });\n\n  setTimeout(() => closeModal(), 2500);\n}\n\nfunction showError(input, message) {\n  input.classList.add('error');\n\n  if (!input.dataset.originalPlaceholder) {\n    input.dataset.originalPlaceholder = input.placeholder;\n  }\n\n  const errorEl = document.createElement('p');\n  errorEl.classList.add('error-text');\n  errorEl.textContent = message;\n  input.insertAdjacentElement('afterend', errorEl);\n}\n\nfunction resetInput(input) {\n  input.classList.remove('error');\n  if (input.dataset.originalPlaceholder) {\n    input.placeholder = input.dataset.originalPlaceholder;\n  }\n}\n\nfunction isValidEmail(email) {\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n}\n","const iconPath = new URL('/img/icons.svg', import.meta.url).href;\n\nconst scrollUpBtn = document.createElement('button');\nscrollUpBtn.id = 'scrollUp';\nscrollUpBtn.className = 'scroll-up';\nscrollUpBtn.innerHTML = `\n  <svg class=\"svg\" width=\"30\" height=\"30\">\n    <use href=\"${iconPath}#icon-right-arrow-alt\"></use>\n  </svg>\n`;\n\ndocument.body.appendChild(scrollUpBtn);\n\nwindow.addEventListener('scroll', () => {\n  if (window.scrollY > 300) {\n    scrollUpBtn.classList.add('show');\n  } else {\n    scrollUpBtn.classList.remove('show');\n  }\n});\n\nscrollUpBtn.addEventListener('click', () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n"],"names":["iconPath","BASE_URL","BOOK_DETAILS_ENDPOINT","refs","currentBookData","openBookModal","bookId","iziToast","bookDetails","serviceBookDetails","renderBookDetails","accordionContainer","Accordion","closeBookModal","onBackdropClick","onEscapeKeyPress","event","fetchData","url","options","data","axios","error","book","markup","orderForm","handleOrderFormClick","handleBuyNowSubmit","target","quantityInput","quantity","resolve","CATEGORY_LIST","TOP_BOOKS","BOOKS_BY_CATEGORY","ITEMS_PER_PAGE_MOBILE","ITEMS_PER_PAGE_TABLET_DESKTOP","categories","activeCategory","currentTotalBooks","currentBooksDisplayed","getBooksLimit","serviceCategoryList","category","serviceTopBooks","item","serviceBooksByCategory","categoryName","params","createMarkupCategoryList","arr","allCategoriesLink","categoryItems","name","createMarkupBooks","book_image","title","author","price","_id","renderCategories","link","handleCategoryClick","renderBooks","displayBooksPortion","limit","startIndex","endIndex","booksToDisplay","toggleCategory","isOpen","updateCategoryThumb","newActiveCategory","handleLearnMoreClick","learnMoreBtn","onShowMore","initializeApp","prevBooksLimit","newLimit","categoryList","categoryThumb","scrollTop","scrollHeight","clientHeight","ratio","thumbHeight","maxTop","top","isDragging","startY","startScrollTop","maxScroll","maxThumbTop","scrollDelta","swiper","prev","next","syncNavAria","disabled","onKeyNav","e","swiperEl","Swiper","Navigation","Pagination","Keyboard","index","className","backdrop","openModal","eventTitle","modal","closeModal","handler","registerButtons","btn","toggleMenu","container","input","wrap","err","eventButtons","body","eventName","modalMarkup","closeBtn","form","onEscKey","onFormSubmit","nameInput","emailInput","email","resetInput","el","hasError","showError","isValidEmail","message","errorEl","scrollUpBtn"],"mappings":"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"}